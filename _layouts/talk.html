---
layout: base
---
<div class="type-post">
  {% assign speakerdeck_ratio = page.speakerdeck-ratio | default: "1.77777777777778" %}
  <a href="{{ page.url | absolute_url }}" title="{{ page.title }}">
    <h2>
      {{ page.title }}
    </h2>
  </a>
  <p class="post_date">
    <a href="{{ page.url | absolute_url }}" title="{{ page.title }}">
      {{ page.date | date_to_long_string }}
    </a>
  </p>
  {{ page.description }}
  {{ content }}

  {% if page.youtube-id %}
  <iframe id="youtube-player" width="678" height="408" frameborder="0" loading="lazy" allowfullscreen
    src="//www.youtube-nocookie.com/embed/{{ page.youtube-id }}"></iframe>
  {% endif %}

  {% if page.transcript and page.youtube-id %}
  {% include transcript.html id=page.youtube-id video_id=page.youtube-id %}
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const player = document.getElementById('youtube-player');
      const transcriptLinks = document.querySelectorAll('.transcript-timestamp[data-timestamp]');

      if (!player || !transcriptLinks.length) return;

      transcriptLinks.forEach(function (link) {
        link.addEventListener('click', function (e) {
          e.preventDefault();
          const timestamp = this.getAttribute('data-timestamp');
          const videoId = '{{ page.youtube-id }}';

          player.src = '//www.youtube-nocookie.com/embed/' + videoId + '?start=' + timestamp + '&autoplay=1';
        });
      });
    });
  </script>
  {% endif %}

  {% if page.speakerdeck-id %}
  <iframe class="interview-media-embed" title="{{ page.title | strip_html | escape }} slides"
    style="aspect-ratio: {{ speakerdeck_ratio }};"
    src="https://speakerdeck.com/player/{{ page.speakerdeck-id }}" loading="lazy" allowfullscreen></iframe>
  {% endif %}
</div>
